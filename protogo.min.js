!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ChoiTrie=function(){function t(){var t=this;t.CACHING_COUNTING=2,t.node=function(e,n){var r="",i="",s=[],h=[];return n&&(0==e.length?(r+=";",i+="1;"):(r+=e[0],i+=e.length+e),h.push(1),n.constructor===Array?s.push(n):(s.push([]),s[0].push(n))),{C:r,H:i,O:[],I:s,CC:h,length:s.length,length_h:s.length,select:function(t){return this.C?-1*this.select_c(t):this.H?this.select_h(t):0},select_c:function(t){for(var e=0;e<this.C.length;e++)if(t[0]===this.C[e])return e;return-1},add_C:function(t){var e=this.select_c(t);return-1!=e?(this.cachingIt(e),e):(this.C+=t,this.CC.push(1),this.C.length-1)},add_H:function(t,e){var n=this.select_H(t);if(-1==n){var r=t.length;this.H+=r+t,n=this.length_h,this.length_h++}this.I[n]||(this.I[n]=[]),this.I[n].push(e)},add_O:function(e,n){var r=this.select_c(e[0]);this.O[r]||(this.O[r]={});var i=this.O[r],s=0,h=null;for(var o in i)for(var l=e.length>o.length?o.length:e.length,f=0;f<l&&o[f]==e[f];f++)(null==h||s<=f)&&(s=f,h=o);if(h){if(h.length-1==s)return h;var a=h.substr(0,s+1),u=h.substr(s+1,h.length-s);return i[h].length_h==i[h].length?i[h].pushPostfixToH(u):(i[h].pushPostfix(u),i[h].moveAllH2O()),i[a]=i[h],delete i[h],a}return i[e]=new t.node("",n),!0},cachingIt:function(t){this.CC[t]++},moveH2O:function(e){for(var n=0,r=0,i=this.C[e],s=this.I[e],h=0,o=0;o<this.CC.length;o++)this.CC[o]>t.CACHING_COUNTING||(s=this.I[h++],h==e&&(i=this.C[o]));for(;r<this.H.length;){var l=Number.parseInt(this.H[r]);if(this.H[r+1]==i){var f=this.pop_h(n);this.I.splice(n,1),this.add_O(f,s);break}r+=l+1,n++}this.CC[e]<=t.CACHING_COUNTING&&(this.CC[e]+=t.CACHING_COUNTING)},moveAllH2O:function(){for(;0<this.H.length;)if(this.H[1]){var e=this.pop_h(0),n=this.I[0];this.I.splice(0,1),this.add_O(e,n)}this.H="",this.I=[],this.length_h=0;for(var r=0;r<this.CC.length;r++)this.CC[r]<t.CACHING_COUNTING&&(this.CC[r]+=t.CACHING_COUNTING)},select_H:function(t){for(var e=0,n=0,r=this.H;n<r.length;)if(t.length==r[n]){for(var i=!0,s=n+1,h=0;h<t.length;h++,s++)if(t[h]!=r[s]){i=!1;break}if(i)return e;n+=t.length+1,e++}else n+=Number.parseInt(r[n])+1,e++;return-1},get_h:function(t){var e=0,n=0;if(!this.H)return-1;for(;e<this.H.length;){if(t==n)return this.H.substr(e+1,this.H[e]);if(!this.H[e])return-1;e+=parseInt(this.H[e])+1,n++}return-1},pop_h:function(t){var e=0,n=0;if(!this.H)return-1;for(;e<this.H.length;){if(t==n){var r=this.H.substr(0,e),i=this.H.substr(e+1,this.H[e]),s=this.H.substr(e+parseInt(this.H[e])+1,this.H.length);return this.H=r+s,this.length_h--,i}if(!this.H[e])return-1;e+=parseInt(this.H[e])+1,n++}return-1},pushPostfixToH:function(t){if(this.length_h==this.length){for(var e=0,n=0,r="";e<this.length_h;){var i=parseInt(this.H[n]);if(n++,this.C=this.C.replace(this.H[n],t[0]),1==i)";"==this.H[n]?r+=(i=t.length)+""+t:r+=(i+=t.length)+""+t+this.H[n];else{var s=this.H.substr(n,i);r+=(i+=t.length)+""+t+s,n+=s.length}n++,e++}this.H=r}},pushPostfix:function(t){for(var e=0;e<this.O.length;e++)for(var n in this.O[e])n&&1==n.length&&";"==n[0]?this.O[e][t]=this.O[e][n]:this.O[e][t+n]=this.O[e][n],delete this.O[e][n];this.C=t[0];var r=0;for(e=0;e<this.CC.length;e++)r+=this.CC[e];this.CC.length=0,this.CC.push(r)},removePrefix:function(t){if(this.length<this.BUCKET_START_POINT){var e=0;for(this.H=this.H.split("");e<this.H.length;){var n=parseInt(this.H[e]);if(n>=t.length){for(var r=!0,i=0;i<t.length;i++)this.H[e+1+i]!=t[i]&&(r=!1);if(r){this.H[e]=n-t.length;for(i=1;i<t.length;i++)delete this.H[e+i]}}e+=n+1}}},rank:function(t){}}},t.root=new this.node}return t.prototype={setRoot:function(t){var e=this;0===Object.keys(t).length&&t.constructor===Object?e.root=Object.assign(t,new e.node):e.root=t},makeRoot:function(){var t=this,e=new t.node;return t.root=e,t.root},add:function(t,e){var n=t,r=-1;do{if(this.addInternal(this.root,n,e),-1==(r=n.indexOf(" ")))break;n=n.substr(r+1,t.length)}while(n)},addInternal:function(t,e,n){var r=t,i=-1;if(e?i=r.add_C(e[0]):(e=";",-1==(i=r.select_c(";"))&&(r.C+=e)),r.CC[i]==this.CACHING_COUNTING&&r.moveH2O(i),r.CC[i]>=this.CACHING_COUNTING||e.length>9){r.CC[i]<this.CACHING_COUNTING&&(r.CC[i]=this.CACHING_COUNTING+1);var s=r.add_O(e,n);if(1!=s){var h=r.O[i][s];return this.addInternal(h,e.substr(s.length,e.length),n)}r.length++}else r.add_H(e,n),r.length++},search:function(t){var e=this.root,n=[],r=t,i=(r.length,null),s=0,h=null,o=0;for(e.select_c(r[0]);-1!=(h=e.select_c(r[0]));){if(i=null,s=0,!(e.CC[h]>=this.CACHING_COUNTING)){var l=e.select_H(r);l>=0&&n.push(e.I[l]);break}var f=e.O[h];for(var a in s=1,f){var u=a.length>r.length?r.length:a.length;if(1==u){i=f[a];break}for(var c=1;c<u&&r[c]==a[c];c++)s<c+1&&(i=f[a],s=c+1)}if(!i)break;e=i,o++,s==u&&(0==(r=r.substr(u,r.length)).length&&(r=";"),0)}if(n.length>0||0==o)return n;var g=[],C=0;for(g.push(e);g.length!=C&&(e=g[C]);){if(e.I&&e.I.some(function(t){n.push(t)}),e.C)for(h=0;h<e.C.length;h++)if(e.CC[h]>=this.CACHING_COUNTING)for(var d in e.O[h])g.push(e.O[h][d]);C++}return n}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Protogo=void 0;var r=n(0);e.Protogo=function(){function t(){this.P=this,this.MATCH_THRESHOLD=2,this.raw=null,this.fields={},this.engine=new r.ChoiTrie}return t.prototype={init:function(t){return this.P.raw=t,this.P.fields={},this.add(t)},add:function(t){var e=this;if(t.constructor===Array){var n=0,r={},i=[],s=[],h=(e.MATCH_THRESHOLD,Object.keys(t[0]));return h.some(function(h){var o,l;void 0!==e.P.fields[h]?(o=void 0===e.P.fields[h].root?{}:e.P.fields[h].root,l=void 0===e.P.fields[h].value_list?[]:e.P.fields[h].value_list):(o={},l=[]),i.push(h),r[h]=n,s.push(n);for(var f=t.length,a=0;a<f;a++){var u=t[a][h];l.push(u),e.addOnEngine(o,u,t[a])}e.P.fields[h]={idx:n,value_list:l,root:o,search:function(t){return e.searchOnEngine(this.root,t)}},e.P[h]=e.P.fields[h],n++}),e.P.fields.names=i,e.P.fields.count=n,e.P.fields.get=function(t){return e.P.fields.names[t]},e.P.fields.order=s,e.P.fields}return null},search:function(t){for(var e=[],n=0;n<this.fields.count;n++){var r=this.fields.order[n],i=this[this.fields.names[r]].search(t);if(i)for(var s=0;s<i.length;s++)e.push(i[s])}return e},addOnEngine:function(t,e,n){return this.engine?(this.engine.setRoot(t),this.engine.add(e,n)):this.addOnBasicTrie(t,e,n)},searchOnEngine:function(t,e){return this.engine?(this.engine.setRoot(t),this.engine.search(e)):this.searchOnBasicTrie(t,e)},addOnBasicTrie:function(t,e,n){var r=e;t[r[0]]||(t[r[0]]={});for(var i=t[r[0]],s=1;s<r.length;s++)if(i[r[s]]||(i[r[s]]={}),i=i[r[s]]," "==r[s-1]){t[r[s]]||(t[r[s]]={});for(var h=t[r[s]],o=s+1;o<r.length;o++)h[r[o]]?h=h[r[o]]:(h[r[o]]={},h=h[r[o]]);h.raw||(h.raw=[],h.raw.push(n))}i.raw||(i.raw=[]),i.raw.push(n)},searchOnBasicTrie:function(t,e){var n=[],r=t,i=2;this.MATCH_THRESHOLD&&(i=this.MATCH_THRESHOLD);for(var s=0,h=0;h<e.length&&r[e[h]];h++)r=r[e[h]],s++;if(s>=i){var o=0,l=0,f=[];for(var a in r)if("raw"==a)for(h=0;h<r[a].length;h++)n.push(r[a][h]);else f.push(r[a]),l++;for(o=0;o!=l;o++)for(var u in f[o])if("raw"!=u)f.push(f[o][u]),l++;else for(h=0;h<f[o].raw.length;h++)n.push(f[o].raw[h])}return n},compare:function(t,e){var n,r;t.length>e.length?(n=t,r=e):(n=e,r=t);for(var i=new Array(n.length+1),s=0;s<=n.length;s++)i[s]=new Array(r.length+1);for(s=0;s<n.length+1;s++)i[s][0]=s,r.length>=s&&(i[0][s]=s);for(s=1;s<n.length+1;s++)for(var h=1;h<r.length+1;h++)if(n[s-1]==r[h-1])i[s][h]=i[s-1][h-1];else{var o=i[s-1][h-1];i[s-1][h]>i[s][h-1]?o>i[s][h-1]&&(o=i[s][h-1]):o>i[s-1][h]&&(o=i[s-1][h]),i[s][h]=o+1}return i[n.length][r.length]},setOrder:function(t){this.fields.order=t},toString:function(){return JSON.stringify(this.fields)},toHash:function(t){return t.charCodeAt()}},t}()}]);